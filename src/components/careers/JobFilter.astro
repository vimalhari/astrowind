---
// JobFilter.astro - Filter component for job listings
---

<div
  class="bg-white dark:bg-slate-800 rounded-2xl shadow-lg p-4 sm:p-6 lg:p-8 mb-12 border border-gray-100 dark:border-slate-700"
>
  <h3 class="text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100 mb-4 sm:mb-6 flex items-center gap-3">
    <div
      class="w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center"
    >
      <svg class="w-4 h-4 sm:w-5 sm:h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"
        ></path>
      </svg>
    </div>
    Filter Jobs
  </h3>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">
    <!-- Status Filter -->
    <div>
      <label
        for="status-filter"
        class="block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 sm:mb-3"
      >
        🚀 Hiring Status
      </label>
      <select
        id="status-filter"
        class="w-full px-3 sm:px-4 py-2 sm:py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-gray-100 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500 text-sm sm:text-base"
      >
        <option value="all">All Positions</option>
        <option value="true">Currently Hiring</option>
        <option value="false">Not Hiring</option>
      </select>
    </div>

    <!-- Location Filter -->
    <div>
      <label
        for="location-filter"
        class="block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 sm:mb-3"
      >
        📍 Location
      </label>
      <select
        id="location-filter"
        class="w-full px-3 sm:px-4 py-2 sm:py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-gray-100 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500 text-sm sm:text-base"
      >
        <option value="all">All Locations</option>
        <option value="london">London, UK</option>
        <option value="remote">Remote</option>
        <option value="hybrid">Hybrid</option>
      </select>
    </div>

    <!-- Department Filter -->
    <div>
      <label
        for="department-filter"
        class="block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 sm:mb-3"
      >
        🏢 Department
      </label>
      <select
        id="department-filter"
        class="w-full px-3 sm:px-4 py-2 sm:py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-700 dark:text-gray-100 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500 text-sm sm:text-base"
      >
        <option value="all">All Departments</option>
        <option value="development">Development</option>
        <option value="design">Design</option>
        <option value="marketing">Marketing</option>
        <option value="sales">Sales</option>
        <option value="operations">Operations</option>
      </select>
    </div>
  </div>

  <!-- Clear Filters Button -->
  <div class="mt-4 sm:mt-6 flex justify-end">
    <button
      id="clear-filters"
      class="px-4 sm:px-6 py-2 text-xs sm:text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-semibold transition-colors hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg"
    >
      🔄 Clear Filters
    </button>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const clearButton = document.getElementById('clear-filters');

    clearButton?.addEventListener('click', function () {
      const statusFilter = document.getElementById('status-filter') as HTMLSelectElement;
      const locationFilter = document.getElementById('location-filter') as HTMLSelectElement;
      const departmentFilter = document.getElementById('department-filter') as HTMLSelectElement;

      if (statusFilter) statusFilter.value = 'all';
      if (locationFilter) locationFilter.value = 'all';
      if (departmentFilter) departmentFilter.value = 'all';

      // Trigger change event to update the job listings
      statusFilter?.dispatchEvent(new Event('change'));
    });
  });
</script>
